sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox"],function(e,t){"use strict";return e.extend("sap.btp.sapui5.controller.Detail",{onInit:function(){this._oRouter=sap.ui.core.UIComponent.getRouterFor(this);this._oRouter.getRoute("TargetDetail").attachMatched(this._onRouteMatched,this);var e=new sap.ui.model.json.JSONModel({editable:false});this.getView().setModel(e,"editmode")},_onRouteMatched:function(e){var t,o;t=e.getParameter("arguments");o=this.getView();var a=t.demoId;this.getDemoDetails(a)},handleNavButtonPress:function(e){var t=sap.ui.core.UIComponent.getRouterFor(this);t.navTo("TargetView1")},getDemoDetails:function(e){var t=this.getData("/catalog/Demo_Details?$expand=diagramLink","GET",e);var o=new sap.ui.model.json.JSONModel(t[0]);o.setData(t[0]);this.getView().setModel(o)},getData:function(e,t,o){var a;$.ajax({url:e,type:t,async:false,success:function(e){var t=e.value;var e=t.filter(function(e){return e.demoId===o});a=e},error:function(e){console.log(`Error ${e}`)}});return a},handleEditApplication:function(e){debugger;var t=this.getView().getModel("editmode");t.setData({editable:true})},handleDeleteApplication:function(e){var o=this.getView().getModel().getData();var a=`Are you sure you want to delete the demo details of ${o.applicationName}`;var i=this;t.confirm(a,{actions:[t.Action.YES,t.Action.NO],onClose:function(e){if(e===t.Action.YES){i.deleteDemoDetail()}}})},deleteDemoDetail:function(){var e=this.getView().getModel().getData();var o=this.getOwnerComponent().getModel();var a=`/catalog/Demo_Details('${e.demoId}')`;var i={url:a,method:"DELETE",timeout:0,headers:{"Content-Type":"application/json"}};$.ajax(i).done(function(e){t.success("Delete successful")})}})});